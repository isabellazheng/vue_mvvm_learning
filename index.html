<head>
    <meta http-equiv="Content-Type" content="text/html;"/>
    <meta charset="UTF-8"/>
    <script src="./observer.js"></script>
    <script src="./watcher.js"></script>
    <script src="./compile.js"></script>
    <script src="./mvvm.js"></script>
    <titile>Vue双向绑定</titile>
</head>


<body>
<div id="root"><input type="text" placeholder="input值改变,span里的值也会改变" v-model="content"/><span v-text="content"></span></div>
</body>

<script>
    //初始化mvvm实例
    var options = {
        data: {
            content: 'LiLei'
        },
    }
    vm = new Mvvm(options)
    var root_el = document.getElementById('root')
    console.log(root_el)
    new Compile(root_el, vm)
    //Test1:测试是否可检测,控制台 vm.data.content='John',不可直接写在代码里哦,因为有异步问题??

    //Test2:
    //注册一个callback函数到content变量上。content变化后,看callback是否执行。
    //    function contentChangeCb(oldVal,newVal){
    //        console.log(this)
    //        console.log("content1's oldVal:"+oldVal+',newVal:'+newVal);
    //    }
    //
    //    var watcher=new Watcher(vm,"content",contentChangeCb)
    //    vm.data.content='John1'
    //    vm.data.content='John2'
    //

</script>